@using PLE.Contract.Enums
@using PLE444.Models
@model List<ApplicationUser>
@{
	ViewBag.Title = "PLE Administration";
	Layout = "~/Views/Shared/_Layout.cshtml";
}
@section styles
{
	@Styles.Render("~/Content/plugins/datatables/dataTables.bootstrap.css",
					"~/Content/plugins/datatables/dataTables.themify.css")
}

<div class="row">
	<div class="col-md-3">
		<div class="info-tile tile-orange" style="visibility: visible; opacity: 1; display: block; transform: translateY(0px);">
			<a href="@Url.Action("Users","Admin")">
				<div class="tile-icon"><i class="ti ti-id-badge"></i></div>
				<div class="tile-heading"><span>Kullanıcılar</span></div>
				<div class="tile-body"><span>@Model.Count</span> <small>kişi</small></div>
			</a>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-md-12">
		<div class="panel panel-default" data-widget='{"draggable": "false"}'>
			<table class="table table-hover m-n">
				<thead>
					<tr>
						<th>Profil</th>
						<th>Yetki</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var user in Model) {
						<tr>
							<td class="">
								<a href="@Url.Action("Profil", "User", new {id = user.Id})">
									<img src="@Url.Content(user.UserPhoto())" class="img-circle" style="height: 30px;" />
									@user.FullName()
								</a>
							</td>
							<td>@(user.Role == RoleType.Admin ? "Yönetici" : string.Empty)</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	</div>
</div>

@section scripts
{
	@Scripts.Render("~/Content/plugins/datatables/jquery.dataTables.js")

	<script>
		$(document).ready(function () {
			$('.table ')
				.dataTable({
					"aaSorting": [],
					"paging": false,
					"dom": '<"panel-heading"f><"panel-body"<"table-responsive"t>>'
				});
		});
	</script>
}